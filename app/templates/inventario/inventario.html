{% extends 'base.html' %}
{% block section_title %}Gestión de Inventario{% endblock %}
{% set section = 'inventario' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h5>Gestión de Inventario</h5>
    <div>
        <button class="btn btn-success me-2" onclick="openEntradaModal()">
            <i class="bi bi-box-arrow-in-down"></i> Entrada
        </button>
        <button class="btn btn-danger me-2" onclick="openSalidaModal()">
            <i class="bi bi-box-arrow-up"></i> Salida
        </button>
        <button class="btn btn-primary" onclick="openItemModal()">
            <i class="bi bi-plus-circle"></i> Nuevo Item
        </button>
    </div>
</div>

<!-- Filtros y búsqueda -->
<div class="row mb-4">
    <div class="col-md-6">
        <div class="input-group">
            <span class="input-group-text">
                <i class="bi bi-search"></i>
            </span>
            <input type="text" class="form-control" id="search-inventario"
                placeholder="Buscar por código, descripción o categoría...">
        </div>
    </div>
</div>

<div class="row mb-4">
    <div class="col-md-3">
        <div class="card">
            <div class="card-body">
                <h6 class="text-muted">Total Items</h6>
                <h3 id="total-items">0</h3>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card">
            <div class="card-body">
                <h6 class="text-muted">Disponibles</h6>
                <h3 class="text-success" id="items-disponibles">0</h3>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card">
            <div class="card-body">
                <h6 class="text-muted">Stock Bajo</h6>
                <h3 class="text-warning" id="items-bajo-stock">0</h3>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card">
            <div class="card-body">
                <h6 class="text-muted">Sin Stock</h6>
                <h3 class="text-danger" id="items-sin-stock">0</h3>
            </div>
        </div>
    </div>
</div>
<div class="card">
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Código</th>
                        <th>Descripción</th>
                        <th>Categoría</th>
                        <th>Stock Actual</th>
                        <th>Stock Mínimo</th>
                        <th>Ubicación</th>
                        <th>Precio Unit.</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="inventarioTableBody">
                    <!-- Se llenará dinámicamente -->
                </tbody>
            </table>
        </div>

        <!-- Contenedor de paginación -->
        <div id="paginacion-inventario" class="mt-3"></div>
    </div>
</div>
<!-- Modales de Inventario (ejemplo: Entrada, Salida, Nuevo Item) -->
<!-- Aquí puedes agregar los modales específicos de inventario -->
{% endblock %}
{% block scripts %}
<script src="/static/js/pagination.js"></script>
<script src="/static/js/inventario.js"></script>
{% endblock %}